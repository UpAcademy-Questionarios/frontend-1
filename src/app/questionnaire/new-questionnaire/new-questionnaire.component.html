<body class="d-flex">

  <div class="container-fluid m-auto text-center">

    <h1>Quests Maker</h1>

    <div>
      <button class="btn btn-primary" (click)="addQuestionnaire(b)">
        Submeter Formulário
      </button>
    </div>

    <label style="color: rgb(216, 216, 216);">Dados do Questionário
      <div class="container-fluid bg-light" style="border-radius: 15px; color: black; border: 1px solid black; padding: 35px;">
        <div class="row">
          <label class="col-2" for="questonnaireName">Nome: </label>
          <input class="col-8 mb-3" id="questonnaireName" type="text" placeholder="Nome" [(ngModel)]="b.name">
        </div>
      
        <div class="form-check-inline mb-3">
          <input class="ml-4" type="checkbox" [(ngModel)]="template">Template
          <input class="ml-4" type="checkbox" [(ngModel)]="quiz">Com resposta certa
          <input class="ml-4" type="checkbox" [(ngModel)]="anonymous">Questionário anônimo:
        </div>
          <div class="row">
            <div class="form-group col-6">
              <label for="editPermissionSelect">Permissão para editar:</label>
              <select multiple class="form-control" id="editPermissionSelect" [(ngModel)]="b.editPrivacy">
                <option value="ADMIN">Admin</option>
                <option value="SUPERUSER">Formador</option>
                <option value="USER">Formando</option>
              </select>
            </div>
            <div class="form-group col-6">
              <label for="viewPermissionSelect">Permissão para visualizar:</label>
              <select multiple class="form-control" id="viewPermissionSelect" [(ngModel)]="b.viewPrivacy">
                <option value="ADMIN">Admin</option>
                <option value="SUPERUSER">Formador</option>
                <option value="USER">Formando</option>
              </select>
            </div>
        </div>
        <div class="col-12 mx-auto">
          <div class="form-row">
            <input type="checkbox" [(ngModel)]="send">Enviar?
            <ngx-select [items]="academies" [(ngModel)]="academy" name="academy"></ngx-select>
            <ngx-select [multiple]="true" [items]="formandosId" [(ngModel)]="formandos" [ngModelOptions]="{standalone: true}"></ngx-select>
            <!-- defaultValue={{formandosId[0]}} -->
          </div>
        </div>

      </div>
    </label>
    <div>
      <p>----------------Criador de Questões----------------</p>

      <div>
        <label>Questao:
          <input [(ngModel)]="a.question" placeholder="Pergunta" />
        </label>
      </div>

      <div class="row">
        <label>Respostas:</label>
        <div class="form-check">
          <div *ngFor="let option of a.options">
            <p>{{option}}</p>
          </div>
        </div>
        <!-- <input ng-model="myVar" class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked> -->
        <input [(ngModel)]="option" type="text" placeholder="Opção">
        <button (click)="addMoreOptions(option)">Add</button>
        <!-- ao contrario da questao, aqui tive de colocar option e nao a.options porque
        se nao o ngfor a cada letra tentava actualizar 
        No entanto nao dá para limpar da mesma forma-->

      </div>


      <!-- <div> 
        <label>Opções: 
            <input [(ngModel)]="a.options"/>
        </label>
    </div> -->

      <!-- <div class="form-check" >
            <input ng-model="myVar" class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
            <input type="text" placeholder="Opção1">
        </div> -->

      <button class="btn btn-primary" (click)="addQuestion(a)">
        Adicionar Pergunta
      </button>
    </div>

    <p>----------------Display de Questões----------------</p>

    <div *ngFor="let question of b.questionList">
      <p>{{question.question}}</p>
      <div class="row">
        <div *ngFor="let option of question.options">
          <div class="form-check">
            <label class="form-check-label">{{option}}
              <input class="form-check-input" type="radio">
            </label>
          </div>
        </div>
      </div>
      <!-- <p>{{question.options}}</p> -->
    </div>

  </div>
</body>